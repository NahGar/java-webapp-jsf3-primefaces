<!DOCTYPE html>
<html lang="#{lenguajeController.locale}">
    <f:view xmlns="http://www.w3.org/1999/xhtml"
          xmlns:h="http://xmlns.jcp.org/jsf/html"
          xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
          xmlns:f="http://xmlns.jcp.org/jsf/core"
          xmlns:p="http://primefaces.org/ui"
          locale="#{lenguajeController.locale}" >

        <h:head>
            <meta charset="UTF-8" />
            <!-- se llama al metodo titulo definido en ProductoController -->
            <title>#{titulo}</title>
            <h:outputStylesheet library="webjars" name="primeflex/2.0.0/primeflex.min.css" />
            <ui:insert name="head" />
        </h:head>
        <h:body>
            <p:card>
                <h:form>
                    <p:menubar>
                        <p:menuitem value="#{msgs['menubar.texto.inicio']}" outcome="index" icon="pi pi-fw pi-home" />
                        <p:menuitem value="#{msgs['menubar.texto.crear']}" outcome="productoForm" icon="pi pi-fw pi-plus" />
                        <p:menuitem icon="pi pi-fw pi-flag" >
                            <p:selectOneMenu value="#{lenguajeController.lenguaje}"
                                             valueChangeListener="#{lenguajeController.seleccionar}" onchange="submit()" >
                                <f:selectItem itemLabel="#{msgs['menubar.texto.cambiar.lenguaje']}"
                                              itemValue="es" />
                                <f:selectItems value="#{lenguajeController.lenguajesSoportados}" />
                            </p:selectOneMenu>
                        </p:menuitem>
                    </p:menubar>
                </h:form>

                <div class="p-mb-2">
                    <p:messages globalOnly="true" closable="true" />
                    <ui:insert name="content" />
                </div>
                <p:divider/>
                <div class="p-mb-2">
                    <footer style="clear: both;" >
                        <h:graphicImage value="/resources/img/Jakarta.png" alt="logo jakarta" />
                        <p><h:outputText value="#{msgs['footer.texto.autor']}"/></p>
                        <ui:insert name="js" />
                    </footer>
                </div>
            </p:card>
        </h:body>
    </f:view>
</html>